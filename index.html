<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Sistema de Evolu√ß√£o e Admiss√£o CTI - Hospital Nossa Senhora da Sa√∫de / Intensivale">
<meta name="theme-color" content="#1565c0">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè•</text></svg>">
<title>Pass√¥metroUTI - Sistema de Evolu√ß√£o CTI</title>
<style>
    
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background: #fff;
      color: #111;
    }
    h1 { text-align: center; margin-bottom: 24px; }
    .section{
      border: 1px solid #ccc;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto 20px auto;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
    .row{
      display: flex;
      gap: 20px;
      align-items: center;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }
    .row.nowrap{ flex-wrap: nowrap; }
    label{
      display: flex;
      flex-direction: column;
      min-width: 140px;
    }
    input, select, textarea{
      padding: 6px;
      font-size: 14px;
      border: 1px solid #bbb;
      border-radius: 4px;
    }
    input[readonly]{ background: #eaeaea; }
    textarea{ width: 100%; resize: vertical; }
    .hidden{display:none !important;}
  
    .med-item{
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 220px;
      margin-right: 10px;
    }
    .dose-input{
      width: 110px;
      padding: 5px;
      font-size: 13px;
    }
button{
      padding: 10px 16px;
      font-size: 15px;
      border: 1px solid #777;
      border-radius: 6px;
      background: #f2f2f2;
      cursor: pointer;
    }
    button:hover{ filter: brightness(0.98); }
    
    .divider{
      margin-top: 22px;
      border-top: 3px solid #e5e7eb;
      padding-top: 14px;
    }

    /* --- NOVOS ESTILOS PARA GERENCIAMENTO --- */
    #evoHistoryList .evo-item {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 10px;
        margin: 5px 0;
        background: #f9f9f9;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    #evoHistoryList h4 { margin: 10px 0 5px; }
/* --- ESTILO DE IMPRESS√ÉO (O SEGREDO M√ÅGICO) --- */
    @media print {
      /* Esconde bot√µes, √°reas de controle e t√≠tulos de se√ß√£o desnecess√°rios */
      button, .no-print, #evoHistoryList, .section h3, #status_save, #status_evo_save {
        display: none !important;
      }
      
      /* Remove bordas e fundos dos inputs para parecer texto corrido */
      input, textarea, select {
        border: none !important;
        background: transparent !important;
        resize: none;
        padding: 0;
        font-weight: bold;
        color: #000;
        appearance: none;
        -webkit-appearance: none;
        box-shadow: none !important;
      }
      
      /* For√ßa mostrar o valor selecionado no Select */
      select {
        -webkit-appearance: none;
        -moz-appearance: none;
        text-indent: 1px;
        text-overflow: '';
      }
/* Expande textareas para mostrar todo o texto sem barra de rolagem */
      textarea {
        height: auto;
        overflow: visible;
        display: block;
      }

      /* Remove sombras e ajusta margens para o papel */
      .section {
        border: none !important;
        box-shadow: none !important;
        margin: 0 !important;
        padding: 5px 0 !important;
        page-break-inside: avoid; /* Evita quebrar quadros no meio */
      }
      
      body {
        margin: 0;
        padding: 0;
        font-size: 11pt; /* Letra um pouco menor para caber mais */
      }
      
      /* Remove o fundo cinza da p√°gina */
      body, .section {
        background-color: white !important;
      }
    }
/* --- ESTILOS DO SISTEMA DE LOGIN --- */
    #loginOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1565c0, #0d47a1);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99999;
    }
    
    #loginBox {
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      text-align: center;
      max-width: 400px;
      width: 90%;
    }
    
    #loginBox h1 {
      color: #1565c0;
      margin-bottom: 10px;
    }
    
    #loginBox h3 {
      color: #666;
      font-weight: normal;
      margin-bottom: 30px;
    }
    
    #loginBox input {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
    }
    
    #loginBox input:focus {
      border-color: #1565c0;
      outline: none;
    }
    
    #loginBox button {
      width: 100%;
      padding: 15px;
      background: #1565c0;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
    }
    
    #loginBox button:hover {
      background: #0d47a1;
    }
    
    #loginError {
      color: #c62828;
      margin-top: 15px;
      font-size: 14px;
    }
    
    #userInfo {
      background: #e8f5e9;
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    #userInfo button {
      padding: 5px 12px;
      font-size: 12px;
      background: #ef5350;
      color: white;
      border: none;
    }
    
    .admin-only {
      display: none;
    }
    
    .sync-status {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 12px;
      margin-left: 10px;
    }
    
    .sync-ok { background: #c8e6c9; color: #2e7d32; }
    .sync-error { background: #ffcdd2; color: #c62828; }
    .sync-pending { background: #fff9c4; color: #f57f17; }
</style>

<!-- Firebase SDKs (MODIFICADO) -->
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js"; // Adicionado para autentica√ß√£o
    import { getFirestore, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js"; // Adicionado para Firestore e serverTimestamp

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyB7Mt4NsiXOam36i5MgClhKa-IOimlQ4DE",
        authDomain: "gestaoutihnss.firebaseapp.com",
        projectId: "gestaoutihnss",
        storageBucket: "gestaoutihnss.firebasestorage.app",
        messagingSenderId: "664272211913",
        appId: "1:664272211913:web:66e30e6670126b3e51a218",
        measurementId: "G-K0ZB5KLRGY"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Expondo 'auth', 'db', 'serverTimestamp' e vari√°veis de estado para o escopo global
    // para que fun√ß√µes externas (que n√£o s√£o m√≥dulos) possam acess√°-los.
    window.auth = auth;
    window.db = db;
    window.serverTimestamp = serverTimestamp;
    window.currentUser = null;
    window.isAdmin = false;

    // Listener de mudan√ßa de autentica√ß√£o (MOVIDO PARA DENTRO DO M√ìDULO E ADAPTADO)
    auth.onAuthStateChanged(function(user) {
        if (user) {
            window.currentUser = user; // Atualiza a vari√°vel global
            
            db.collection('usuarios').doc(user.uid).get()
                .then(function(doc) {
                    if (doc.exists) {
                        window.isAdmin = doc.data().admin === true; // Atualiza a vari√°vel global
                        var nome = doc.data().nome || user.email;
                        mostrarSistema(nome);
                    } else {
                        // Criar registro de usu√°rio se n√£o existir
                        db.collection('usuarios').doc(user.uid).set({
                            email: user.email,
                            nome: user.email.split('@')[0],
                            admin: false,
                            criadoEm: serverTimestamp() // Usa a fun√ß√£o serverTimestamp importada
                        });
                        window.isAdmin = false; // Atualiza a vari√°vel global
                        mostrarSistema(user.email);
                    }
                })
                .catch(function(error) {
                    console.error('Erro ao buscar usu√°rio:', error);
                    mostrarSistema(user.email);
                });
        } else {
            window.currentUser = null;
            window.isAdmin = false;
            document.getElementById('loginOverlay').style.display = 'flex';
            document.getElementById('mainContent').style.display = 'none';
        }
    });
</script>

</head>
<body>

<!-- TELA DE LOGIN -->
<div id="loginOverlay">
  <div id="loginBox">
    <div style="display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 20px;">
      <img src="img/HNSS.jpg" alt="Hospital Nossa Senhora da Sa√∫de" style="height: 80px;">
      <img src="img/intensivale.jpeg" alt="Intensivale" style="height: 70px;">
    </div>
    <h1>üè• Pass√¥metroUTI</h1>
    <h3>Sistema de Evolu√ß√£o CTI</h3>
    <input type="email" id="loginEmail" placeholder="E-mail" autocomplete="email">
    <input type="password" id="loginPassword" placeholder="Senha" autocomplete="current-password">
    <button onclick="fazerLogin()">Entrar</button>
    <div id="loginError"></div>
    <p style="margin-top: 20px; font-size: 12px; color: #999;">
      Acesso restrito a usu√°rios autorizados
    </p>
  </div>
</div>
<!-- CONTE√öDO PRINCIPAL (inicialmente oculto) -->
<div id="mainContent" style="display: none;">
<!-- SELETOR DE CTI E LEITO -->
<div class="section no-print" id="seletorLeitoSection" style="background: linear-gradient(135deg, #1565c0, #0d47a1); border: none; padding: 20px; margin-bottom: 30px;">
<div class="row nowrap" style="justify-content: space-between; align-items: center; gap: 15px; flex-wrap: wrap;">
<div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
    <div style="color: white; font-size: 18px; font-weight: bold;">üè•</div>
    <label style="min-width: auto;">
        <span style="color: white; font-weight: bold;">CTI:</span>
        <select id="seletorCTI" onchange="atualizarLeitos()" style="font-size: 16px; padding: 10px 15px; font-weight: bold; min-width: 120px;">
            <option value="CTI1">CTI 1</option>
            <option value="CTI2">CTI 2</option>
        </select>
    </label>
    <label style="min-width: auto;">
        <span style="color: white; font-weight: bold;">Leito:</span>
        <select id="seletorLeito" onchange="trocarLeito()" style="font-size: 16px; padding: 10px 15px; font-weight: bold; min-width: 100px;">
        </select>
    </label>
    <div id="statusLeito" style="color: #a5d6a7; font-size: 14px;"></div>
    <div id="diasInternacao" style="color: #ffeb3b; font-size: 14px; font-weight: bold;"></div>
    <span id="syncStatus" class="sync-status sync-ok">‚úì Sincronizado</span>
</div>
<div id="userInfoDisplay" style="color: white; font-size: 13px; display: flex; align-items: center; gap: 10px;">
</div>
</div>
<div class="row nowrap" style="justify-content: center; align-items: center; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
<button onclick="verResumoCTI()" type="button" style="background: #26a69a; color: white; font-weight: bold; padding: 10px 20px;">
    üìä Resumo CTI
</button>
<button onclick="darAlta()" type="button" style="background: #ff5722; color: white; font-weight: bold; padding: 10px 20px;">
    üè† Dar Alta
</button>
<button onclick="verAltas()" type="button" style="background: #78909c; color: white; padding: 10px 20px;">
    üìã Ver Altas
</button>
<button onclick="verUsuarios()" type="button" class="admin-only" style="background: #7b1fa2; color: white; padding: 10px 20px;">
    üë• Usu√°rios
</button>
</div>
</div>
<!-- Cabe√ßalho com Logos (MODIFICADO) -->
<div class="no-print" style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto 20px auto; padding: 10px 20px;">
  <img src="img/HNSS.jpg" alt="Hospital Nossa Senhora da Sa√∫de" style="height: 60px;">
  <h1 id="tituloLeito" style="margin: 0; flex: 1; text-align: center;">Admiss√£o CTI Adulto</h1>
  <img src="img/intensivale.jpeg" alt="Intensivale" style="height: 60px;">
</div>
<!-- SE√á√ÉO DE ADMISS√ÉO (colaps√°vel) -->
<div id="admissaoWrapper">
<!-- Barra de controle da admiss√£o -->
<div id="admissaoHeader" class="section no-print" style="background: #e3f2fd; border: 2px solid #1565c0; margin-bottom: 0; border-radius: 8px 8px 0 0; display: flex; justify-content: space-between; align-items: center; padding: 12px 20px;">
<div style="display: flex; align-items: center; gap: 15px;">
    <h3 style="margin: 0; color: #1565c0;">üìã Dados de Admiss√£o</h3>
    <span id="admissaoResumo" style="color: #666; font-size: 14px;"></span>
</div>
<div style="display: flex; gap: 10px;">
    <button type="button" onclick="salvarAdmissao()" style="background: #4caf50; color: white; font-weight: bold;">üíæ Salvar Admiss√£o</button>
    <button type="button" onclick="novaEvolucaoRapida()" style="background: #ff9800; color: white; font-weight: bold;">üìù Nova Evolu√ß√£o</button>
<button type="button" id="btnToggleAdmissao" onclick="toggleAdmissao()" style="background: #1565c0; color: white;">üîΩ Recolher</button>
</div>
</div>
<!-- Conte√∫do da admiss√£o -->
<div id="admissaoConteudo">
<!-- Identifica√ß√£o -->
<div class="section" style="margin-top: 0; border-radius: 0;">
<h3>Identifica√ß√£o do Paciente</h3>
<div class="row nowrap">
<label style="flex: 3; min-width: 420px;">Nome:
      <input name="nome" style="width: 100%;" type="text"/>
</label>
<label style="width: 70px; min-width: 70px;">Idade:
      <input id="idade" name="idade" style="width: 100%;" type="number"/>
</label>
<label style="width: 110px; min-width: 110px;">Sexo:
      <select id="sexo" name="sexo" onchange="calcularPBW()" style="width: 100%;">
<option value="">Selecione</option>
<option value="M">Masculino</option>
<option value="F">Feminino</option>
</select>
</label>
<label style="min-width: 260px;">Data/hora admiss√£o:
      <input id="datahora_admissao" name="datahora_admissao" type="datetime-local"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 170px;">Peso (kg):
      <input id="peso" name="peso" oninput="calcularIMC(); calcularPBW();" type="number"/>
</label>
<label style="min-width: 170px;">Altura (cm):
      <input id="altura" name="altura" oninput="calcularIMC(); calcularPBW();" type="number"/>
</label>
<label style="min-width: 170px;">IMC:
      <input id="imc" name="imc" readonly="" type="text"/>
</label>
<label style="min-width: 220px;">Peso Predito (PBW):
      <input id="pbw" name="peso_predito" readonly="" type="text"/>
</label>
</div>
</div>
<!-- Hist√≥ria cl√≠nica -->
<div class="section">
<h3>Hist√≥ria Cl√≠nica</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">HMA (Hist√≥ria da Mol√©stia Atual):
      <textarea name="hma" rows="6"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">HPP (Hist√≥ria Patol√≥gica Pregressa):
      <textarea name="hpp" rows="6"></textarea>
</label>
</div>
<!-- Cirurgias pr√©vias fica abaixo do HPP -->
<div class="row">
<label style="flex: 1; min-width: 100%;">Cirurgias pr√©vias:
      <textarea name="cirurgias" rows="4"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Medica√ß√µes de uso domiciliar:
      <textarea name="med_dom" rows="4"></textarea>
</label>
</div>
<!-- Alergias: tudo na mesma linha; textarea aparece s√≥ se Sim -->
<div class="row nowrap" style="align-items: flex-start;">
<div style="min-width: 90px; margin-top: 6px;">Alergias:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="alergias_check" onclick="toggleAlergiaCampo(true)" type="radio" value="sim"/> Sim
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="alergias_check" onclick="toggleAlergiaCampo(false)" type="radio" value="nao"/> N√£o
    </label>
<div class="hidden" id="campoAlergia" style="flex: 1;">
<textarea name="alergias" rows="2" style="width: 100%;"></textarea>
</div>
</div>
</div>
<!-- Exames de imagem: deve vir abaixo do campo alergias (quadro separado) -->
<div class="section">
<h3>Exames de Imagem (Admiss√£o)</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">ECG admiss√£o:
      <textarea name="ecg_admissao" rows="3"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Rx t√≥rax admiss√£o:
      <textarea name="rx_torax_admissao" rows="3"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">POCUS admiss√£o:
      <textarea name="pocus_admissao" rows="3"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Outros relevantes:
      <textarea name="img_outros" rows="3"></textarea>
</label>
</div>
</div>
<!-- Laborat√≥rio -->
<div class="section">
<h3>Laborat√≥rio (Admiss√£o)</h3>
<div class="row nowrap">
<label style="min-width: 180px;">Hemoglobina:
      <input name="hb" type="text"/>
</label>
<label style="min-width: 180px;">Leuc√≥citos:
      <input name="leuco" type="text"/>
</label>
<label style="min-width: 180px;">Plaquetas:
      <input name="plaquetas" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 180px;">Ureia:
      <input name="ureia" type="text"/>
</label>
<label style="min-width: 180px;">Creatinina:
      <input name="creatinina" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 160px;">Na+:
      <input name="na" type="text"/>
</label>
<label style="min-width: 160px;">K+:
      <input name="k" type="text"/>
</label>
<label style="min-width: 160px;">Mg++:
      <input name="mg" type="text"/>
</label>
<label style="min-width: 160px;">Ca++:
      <input name="ca" type="text"/>
</label>
<label style="min-width: 160px;">F√≥sforo:
      <input name="fosforo" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 180px;">INR:
      <input name="inr" type="text"/>
</label>
<label style="min-width: 180px;">PTT:
      <input name="ptt" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 180px;">BT:
      <input name="bt" type="text"/>
</label>
<label style="min-width: 180px;">BD:
      <input name="bd" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 180px;">TGO:
      <input name="tgo" type="text"/>
</label>
<label style="min-width: 180px;">TGP:
      <input name="tgp" type="text"/>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Outros relevantes:
      <textarea name="lab_outros" rows="4"></textarea>
</label>
</div>
</div>
<!-- Exames pr√©vios relevantes -->
<div class="section">
<h3>Exames Pr√©vios Relevantes</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Exames pr√©vios relevantes:
      <textarea name="exames_previos_relevantes" rows="4"></textarea>
</label>
</div>
</div>
<!-- Exame f√≠sico -->
<div class="section">
<h3>Exame F√≠sico</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Exame f√≠sico:
      <textarea name="exame_fisico" rows="8"></textarea>
</label>
</div>
</div>
<!-- Respirat√≥rio -->
<div class="section">
<h3>Respirat√≥rio</h3>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 90px;">Suporte:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="resp_suporte" onclick="toggleResp('Ar ambiente')" type="radio" value="Ar ambiente"/> Ar ambiente
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="resp_suporte" onclick="toggleResp('VM')" type="radio" value="VM"/> VM
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="resp_suporte" onclick="toggleResp('Venturi')" type="radio" value="Venturi"/> Venturi
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="resp_suporte" onclick="toggleResp('CN')" type="radio" value="CN"/> CN
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="resp_suporte" onclick="toggleResp('MR')" type="radio" value="MR"/> MR
    </label>
<!-- Campos espec√≠ficos aparecem √† direita conforme sele√ß√£o -->
<div class="hidden" id="resp_venturi" style="flex: 1;">
<div class="row nowrap" style="margin: 0;">
<label style="min-width: 220px;">FiO2 (Venturi):
          <input name="venturi_fio2" type="text"/>
</label>
</div>
</div>
<div class="hidden" id="resp_cn" style="flex: 1;">
<div class="row nowrap" style="margin: 0;">
<label style="min-width: 220px;">Litros (CN):
          <input name="cn_litros" type="text"/>
</label>
</div>
</div>
<div class="hidden" id="resp_mr" style="flex: 1;">
<div class="row nowrap" style="margin: 0;">
<label style="min-width: 220px;">Litros (MR):
          <input name="mr_litros" type="text"/>
</label>
</div>
</div>
</div>
<!-- VM: campos detalhados -->
<div class="hidden" id="resp_vm">
<div class="row nowrap">
<label style="min-width: 240px;">Modo ventilat√≥rio:
        <input name="vm_modo" type="text"/>
</label>
<label style="min-width: 180px;">Pinsp/PS:
        <input name="vm_pinsp_ps" type="text"/>
</label>
<label style="min-width: 160px;">VC:
        <input name="vm_vc" type="text"/>
</label>
<label style="min-width: 160px;">FR:
        <input name="vm_fr" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 160px;">PEEP:
        <input name="vm_peep" type="text"/>
</label>
<label style="min-width: 160px;">FiO2:
        <input name="vm_fio2" type="text"/>
</label>
<label style="min-width: 160px;">Ppico:
        <input name="vm_ppico" type="text"/>
</label>
<label style="min-width: 160px;">Pplat√¥:
        <input name="vm_pplato" type="text"/>
</label>
<label style="min-width: 200px;">Drive Pressure:
        <input name="vm_drive" type="text"/>
</label>
</div>
</div>
<div class="row nowrap" style="align-items: center;">
<label style="flex-direction: row; align-items: center; gap: 10px; min-width: 360px;">
<input id="chk_gaso" onclick="toggleGasometria()" type="checkbox"/> √öltima gasometria relevante (preencher)
    </label>
</div>
<div class="hidden" id="gaso_fields">
<div class="row nowrap">
<label style="min-width: 120px;">pH:
        <input name="gas_ph" type="text"/>
</label>
<label style="min-width: 120px;">pO2:
        <input name="gas_po2" type="text"/>
</label>
<label style="min-width: 120px;">pCO2:
        <input name="gas_pco2" type="text"/>
</label>
<label style="min-width: 140px;">HCO3:
        <input name="gas_hco3" type="text"/>
</label>
<label style="min-width: 120px;">BE:
        <input name="gas_be" type="text"/>
</label>
<label style="min-width: 120px;">sO2:
        <input name="gas_so2" type="text"/>
</label>
</div>
</div>
</div>
<!-- Hemodin√¢mica -->
<div class="section">
<h3>Hemodin√¢mica</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Ritmo no monitor:
      <input name="hemo_ritmo" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 180px;">PA:
      <input name="hemo_pa" type="text"/>
</label>
<label style="min-width: 180px;">FC:
      <input name="hemo_fc" type="text"/>
</label>
<label style="min-width: 180px;">SpO2:
      <input name="hemo_spo2" type="text"/>
</label>
</div>
<div class="row" style="align-items: center;">
<div style="min-width: 260px;">Vasoativos / Inotr√≥picos:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 160px;">
<input id="chk_dobutamina" onclick="toggleHemoDrug('dobutamina')" type="checkbox"/> Dobutamina
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 160px;">
<input id="chk_milrinona" onclick="toggleHemoDrug('milrinona')" type="checkbox"/> Milrinona
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 190px;">
<input id="chk_noradrenalina" onclick="toggleHemoDrug('noradrenalina')" type="checkbox"/> Noradrenalina
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 170px;">
<input id="chk_vasopressina" onclick="toggleHemoDrug('vasopressina')" type="checkbox"/> Vasopressina
    </label>
</div>
<div class="row hidden" id="drug_dobutamina">
<label style="flex: 1; min-width: 100%;">Dobutamina (dose / observa√ß√µes):
      <input name="dobutamina_dose" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row hidden" id="drug_milrinona">
<label style="flex: 1; min-width: 100%;">Milrinona (dose / observa√ß√µes):
      <input name="milrinona_dose" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row hidden" id="drug_noradrenalina">
<label style="flex: 1; min-width: 100%;">Noradrenalina (dose / observa√ß√µes):
      <input name="noradrenalina_dose" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row hidden" id="drug_vasopressina">
<label style="flex: 1; min-width: 100%;">Vasopressina (dose / observa√ß√µes):
      <input name="vasopressina_dose" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row" style="align-items: center;">
<div style="min-width: 120px;">Perfus√£o:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 150px;">
<input id="chk_perf" onclick="togglePerfusao()" type="checkbox"/> Preencher
    </label>
<div class="hidden" id="perf_fields" style="flex: 1;">
<div class="row nowrap" style="margin: 0;">
<label style="min-width: 180px;">Lactato:
          <input name="perf_lactato" type="text"/>
</label>
<label style="min-width: 180px;">SvcO2:
          <input name="perf_svco2" type="text"/>
</label>
<label style="min-width: 180px;">GapCO2:
          <input name="perf_gapco2" type="text"/>
</label>
</div>
</div>
</div>
</div>
<!-- Infec√ß√£o -->
<div class="section">
<h3>Infec√ß√£o</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Foco prov√°vel/confirmado:
      <input name="inf_foco" style="width: 100%;" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: flex-end;">
<label style="flex: 2; min-width: 380px;">Antimicrobiano 1:
      <input name="inf_atb1" placeholder="Ex: Piperacilina-tazobactam" style="width: 100%;" type="text"/>
</label>
<label style="min-width: 140px;">D:
      <input name="inf_dia_atb1" placeholder="ex: 3" style="width: 100%;" type="number"/>
</label>
<div style="min-width: 50px; padding-bottom: 8px;">de</div>
<label style="min-width: 140px;">:
      <input name="inf_total_atb1" placeholder="ex: 7" style="width: 100%;" type="number"/>
</label>
</div>
<div class="row nowrap" style="align-items: flex-end;">
<label style="flex: 2; min-width: 380px;">Antimicrobiano 2:
      <input name="inf_atb2" placeholder="(opcional)" style="width: 100%;" type="text"/>
</label>
<label style="min-width: 140px;">D:
      <input name="inf_dia_atb2" style="width: 100%;" type="number"/>
</label>
<div style="min-width: 50px; padding-bottom: 8px;">de</div>
<label style="min-width: 140px;">:
      <input name="inf_total_atb2" style="width: 100%;" type="number"/>
</label>
</div>
<div class="row nowrap" style="align-items: flex-end;">
<label style="flex: 2; min-width: 380px;">Antimicrobiano 3:
      <input name="inf_atb3" placeholder="(opcional)" style="width: 100%;" type="text"/>
</label>
<label style="min-width: 140px;">D:
      <input name="inf_dia_atb3" style="width: 100%;" type="number"/>
</label>
<div style="min-width: 50px; padding-bottom: 8px;">de</div>
<label style="min-width: 140px;">:
      <input name="inf_total_atb3" style="width: 100%;" type="number"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 170px;">Culturas coletadas?</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="inf_culturas" onclick="toggleCulturas(true)" type="radio" value="sim"/> Sim
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="inf_culturas" onclick="toggleCulturas(false)" type="radio" value="nao"/> N√£o
    </label>
<div class="hidden" id="culturas_sim" style="flex: 1;">
<div class="row nowrap" style="margin: 0; gap: 14px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 140px;">
<input name="cult_urina" type="checkbox"/> Urina
        </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 160px;">
<input name="cult_hemo" type="checkbox"/> Hemocultura
        </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 220px;">
<input name="cult_traqueal" type="checkbox"/> Secre√ß√£o traqueal
        </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: 120px;">
<input id="cult_outros_chk" name="cult_outros_chk" onclick="toggleCultOutros()" type="checkbox"/> Outros
        </label>
<div class="hidden" id="cult_outros_txt_wrap" style="flex: 1;">
<input name="cult_outros_txt" placeholder="Quais?" style="width: 100%;" type="text"/>
</div>
</div>
</div>
<div class="hidden" id="culturas_nao" style="flex: 1;">
<input name="culturas_motivo" placeholder="Motivo de n√£o ter sido coletado" style="width: 100%;" type="text"/>
</div>
</div>
</div>
<!-- Neuro / Dor / Seda√ß√£o / Delirium -->
<div class="section">
<h3>Neuro / Dor / Seda√ß√£o / Delirium</h3>
<div class="row nowrap" style="align-items: flex-end;">
<div style="min-width: 210px; padding-bottom: 8px;">Escala de Glasgow:</div>
<label style="min-width: 90px;">AO
      <input id="glasgow_ao" min="0" name="glasgow_ao" oninput="calcGlasgow()" type="number"/>
</label>
<label style="min-width: 90px;">RV
      <input id="glasgow_rv" min="0" name="glasgow_rv" oninput="calcGlasgow()" type="number"/>
</label>
<label style="min-width: 90px;">RM
      <input id="glasgow_rm" min="0" name="glasgow_rm" oninput="calcGlasgow()" type="number"/>
</label>
<label style="min-width: 140px;">Total
      <input id="glasgow_total" name="glasgow_total" readonly="" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 200px;">RASS atual:
      <input name="rass_atual" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 120px;">Delirium:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="delirium" onclick="toggleDelirium(true)" type="radio" value="sim"/> Sim
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="delirium" onclick="toggleDelirium(false)" type="radio" value="nao"/> N√£o
    </label>
<div class="hidden" id="delirium_tipos" style="display: flex; align-items: center; gap: 16px; margin-left: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="del_hiper" name="del_hiper" type="checkbox"/> Hiperativo
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="del_hipo" name="del_hipo" type="checkbox"/> Hipoativo
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="del_misto" name="del_misto" type="checkbox"/> Misto
      </label>
</div>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 260px;">Analgesia / seda√ß√£o em uso:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="analg_sed" onclick="toggleAnalgesia(true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="analg_sed" onclick="toggleAnalgesia(false)" type="radio" value="nao"/> N√£o
      </label>
<div class="hidden" id="analgesia_lista" style="flex: 1;">
<div class="row" style="margin: 0; gap: 14px; flex-wrap: wrap;">
<div class="med-item">
<input id="med_dipirona" name="med_dipirona" onclick="toggleDose('med_dipirona','dose_med_dipirona')" type="checkbox"/>
<span>Dipirona</span>
<input class="dose-input hidden" id="dose_med_dipirona" name="dose_med_dipirona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_tramadol" name="med_tramadol" onclick="toggleDose('med_tramadol','dose_med_tramadol')" type="checkbox"/>
<span>Tramadol</span>
<input class="dose-input hidden" id="dose_med_tramadol" name="dose_med_tramadol" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_tylex" name="med_tylex" onclick="toggleDose('med_tylex','dose_med_tylex')" type="checkbox"/>
<span>Tylex</span>
<input class="dose-input hidden" id="dose_med_tylex" name="dose_med_tylex" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_metadona" name="med_metadona" onclick="toggleDose('med_metadona','dose_med_metadona')" type="checkbox"/>
<span>Metadona</span>
<input class="dose-input hidden" id="dose_med_metadona" name="dose_med_metadona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_diazepam" name="med_diazepam" onclick="toggleDose('med_diazepam','dose_med_diazepam')" type="checkbox"/>
<span>Diazepam</span>
<input class="dose-input hidden" id="dose_med_diazepam" name="dose_med_diazepam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_clonazepam" name="med_clonazepam" onclick="toggleDose('med_clonazepam','dose_med_clonazepam')" type="checkbox"/>
<span>Clonazepam</span>
<input class="dose-input hidden" id="dose_med_clonazepam" name="dose_med_clonazepam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_quetiapina" name="med_quetiapina" onclick="toggleDose('med_quetiapina','dose_med_quetiapina')" type="checkbox"/>
<span>Quetiapina</span>
<input class="dose-input hidden" id="dose_med_quetiapina" name="dose_med_quetiapina" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_risperidona" name="med_risperidona" onclick="toggleDose('med_risperidona','dose_med_risperidona')" type="checkbox"/>
<span>Risperidona</span>
<input class="dose-input hidden" id="dose_med_risperidona" name="dose_med_risperidona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_ketamina" name="med_ketamina" onclick="toggleDose('med_ketamina','dose_med_ketamina')" type="checkbox"/>
<span>Ketamina</span>
<input class="dose-input hidden" id="dose_med_ketamina" name="dose_med_ketamina" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_midazolam" name="med_midazolam" onclick="toggleDose('med_midazolam','dose_med_midazolam')" type="checkbox"/>
<span>Midazolam</span>
<input class="dose-input hidden" id="dose_med_midazolam" name="dose_med_midazolam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_fentanil" name="med_fentanil" onclick="toggleDose('med_fentanil','dose_med_fentanil')" type="checkbox"/>
<span>Fentanil</span>
<input class="dose-input hidden" id="dose_med_fentanil" name="dose_med_fentanil" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_remifentanil" name="med_remifentanil" onclick="toggleDose('med_remifentanil','dose_med_remifentanil')" type="checkbox"/>
<span>Remifentanil</span>
<input class="dose-input hidden" id="dose_med_remifentanil" name="dose_med_remifentanil" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_precedex" name="med_precedex" onclick="toggleDose('med_precedex','dose_med_precedex')" type="checkbox"/>
<span>Precedex</span>
<input class="dose-input hidden" id="dose_med_precedex" name="dose_med_precedex" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_propofol" name="med_propofol" onclick="toggleDose('med_propofol','dose_med_propofol')" type="checkbox"/>
<span>Propofol</span>
<input class="dose-input hidden" id="dose_med_propofol" name="dose_med_propofol" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_rocuronio" name="med_rocuronio" onclick="toggleDose('med_rocuronio','dose_med_rocuronio')" type="checkbox"/>
<span>Rocur√¥nio</span>
<input class="dose-input hidden" id="dose_med_rocuronio" name="dose_med_rocuronio" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="med_cisatracurio" name="med_cisatracurio" onclick="toggleDose('med_cisatracurio','dose_med_cisatracurio')" type="checkbox"/>
<span>Cisatrac√∫rio</span>
<input class="dose-input hidden" id="dose_med_cisatracurio" name="dose_med_cisatracurio" placeholder="dose" type="text"/>
</div>
</div>
</div>
</div>
<!-- Invasivos / Dispositivos -->
<div class="section">
<h3>Invasivos / Dispositivos</h3>
<div class="row nowrap">
<label style="min-width: 260px;">CVC (local):
      <input name="cvc_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
      <input name="cvc_dia" placeholder="ex: D2 / 12/01" type="text"/>
</label>
<label style="min-width: 260px;">Cateter arterial (local):
      <input name="art_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
      <input name="art_dia" placeholder="ex: D1 / 12/01" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 260px;">Cateter de HD (local):
      <input name="hd_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
      <input name="hd_dia" placeholder="ex: D1 / 12/01" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 220px;">SVD (dia):
      <input name="svd_dia" placeholder="ex: D3 / 12/01" type="text"/>
</label>
<label style="min-width: 220px;">TOT/TQT (dia):
      <input name="tot_tqt_dia" placeholder="ex: D5 / 12/01" type="text"/>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Drenos / outros:
      <textarea name="drenos_outros" rows="3"></textarea>
</label>
</div>
</div>
<!-- Plano / Metas -->
<div class="section">
<h3>Plano / Metas</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Diagn√≥stico(s) de interna√ß√£o:
      <textarea name="diagnostico_internacao" rows="3"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Plano / metas:
      <textarea name="plano_metas" rows="6"></textarea>
</label>
</div>
</div>
<!-- A√ß√µes -->
<div class="section">
<h3>A√ß√µes</h3>
<div class="row nowrap" style="justify-content: flex-start; gap: 14px;">
<button onclick="gerarTexto()" type="button">Transformar em texto</button>
<span id="status_save" style="margin-left: 10px; color: #0b6;"> </span>
</div>
<!-- Painel: Texto para copiar (n√£o bloqueia a p√°gina) -->
<div class="section hidden" id="painelTexto">
<h3 style="margin-top: 0;">Texto para copiar</h3>
<div class="row">
<textarea id="textoGerado" rows="16" style="width: 100%;"></textarea>
</div>
<div class="row nowrap" style="justify-content: flex-end; gap: 10px;">
<button onclick="copiarTexto()" type="button">Copiar</button>
<button onclick="fecharPainelTexto()" type="button">Fechar</button>
</div>
</div>
</div><!-- Fecha se√ß√£o A√ß√µes -->
</div><!-- Fecha admissaoConteudo -->
</div><!-- Fecha admissaoWrapper -->
<!-- ===== Evolu√ß√£o di√°ria (Diurna/Noturna) ===== -->
<div class="section divider" id="divisor-adm-evo"><h3>Evolu√ß√£o di√°ria</h3></div>
<div class="section hidden" id="evolucaoArea">
<h3 style="margin-top: 0;">Evolu√ß√£o di√°ria</h3>
<div class="row nowrap" style="align-items: center; gap: 14px;">
<div style="min-width: 80px;">Turno:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_turno" type="radio" value="Diurna"/> Diurna
    </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_turno" type="radio" value="Noturna"/> Noturna
    </label>
<label style="margin-left: 18px; flex-direction: row; align-items: center; gap: 8px; min-width: 220px;">
      Data/hora: <input name="evo_data" type="datetime-local"/>
</label>
<div style="flex: 1;"></div>
<button onclick="fecharEvolucao()" type="button">Fechar</button>
</div>
<div class="row nowrap" style="gap: 10px;">
<span id="status_evo_save" style="margin-left: 10px; color: #0b6;"></span>
</div>
<!-- Cabe√ßalho -->
<div class="row nowrap">
<label style="flex: 1; min-width: 420px;">Nome:
      <input name="evo_nome" readonly="" type="text"/>
</label>
<label style="min-width: 140px;">Idade:
      <input name="evo_idade" readonly="" type="text"/>
</label>
<label style="min-width: 140px;">Sexo:
      <input name="evo_sexo" readonly="" type="text"/>
</label>
<label style="min-width: 150px;">Dia de UTI:
      <input name="evo_dia_uti" readonly="" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 200px;">Peso (kg):
      <input name="evo_peso" readonly="" type="text"/>
</label>
<label style="min-width: 220px;">Altura (cm):
      <input name="evo_altura" readonly="" type="text"/>
</label>
<label style="min-width: 200px;">IMC:
      <input name="evo_imc" readonly="" type="text"/>
</label>
<label style="min-width: 240px;">Peso ideal (PBW, kg):
      <input name="evo_pbw" readonly="" type="text"/>
</label>
</div>
<div class="section">
<h3>Motivo da interna√ß√£o na UTI</h3>
<div class="row">
<textarea name="evo_motivo_uti" rows="3" style="width: 100%;"></textarea>
</div>
</div>
<!-- Problemas ativos -->
<div class="section">
<h3>Problemas atuais</h3>
<div class="row nowrap" style="justify-content: flex-end;">
</div>
<div class="row">
<textarea name="evo_problemas" rows="5" style="width: 100%;"></textarea>
</div>
</div>
<!-- HPP -->
<div class="section">
<h3>HPP (Hist√≥ria Patol√≥gica Pregressa)</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Comorbidades relevantes:
        <textarea name="evo_comorbidades" rows="3"></textarea>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Cirurgias pr√©vias:
        <textarea name="evo_cirurgias" rows="3"></textarea>
</label>
</div>
<h3>Medica√ß√µes em uso</h3>
<div class="row">
<textarea name="evo_meds" style="width:100%; height:130px;"></textarea>
</div>
<div class="row" style="margin-top: 14px;">
<label style="flex: 1; min-width: 100%;">Alergias:
        <textarea name="evo_alergias" rows="2"></textarea>
</label>
</div>
</div>
<!-- Ectoscopia -->
<div class="section">
<h3>Ectoscopia</h3>
<div class="row">
<textarea name="evo_ectoscopia" rows="3" style="width: 100%;"></textarea>
</div>
</div>
<!-- Respirat√≥rio -->
<div class="section">
<h3>Respirat√≥rio</h3>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 90px;">Suporte:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_resp_suporte" onclick="evoToggleRespSuporte('Ar ambiente')" type="radio" value="Ar ambiente"/> Ar ambiente
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_resp_suporte" onclick="evoToggleRespSuporte('VM')" type="radio" value="VM"/> VM
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_resp_suporte" onclick="evoToggleRespSuporte('Venturi')" type="radio" value="Venturi"/> Venturi
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_resp_suporte" onclick="evoToggleRespSuporte('CN')" type="radio" value="CN"/> CN
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_resp_suporte" onclick="evoToggleRespSuporte('MR')" type="radio" value="MR"/> MR
      </label>
<div style="flex: 1;"></div>
</div>
<div class="hidden" id="evo_resp_vm">
<div class="row nowrap">
<label style="min-width: 240px;">Modo ventilat√≥rio:
          <input name="evo_vm_modo" type="text"/>
</label>
<label style="min-width: 180px;">Pinsp/PS:
          <input name="evo_vm_pinsp_ps" type="text"/>
</label>
<label style="min-width: 160px;">VC:
          <input name="evo_vm_vc" type="text"/>
</label>
<label style="min-width: 160px;">FR:
          <input name="evo_vm_fr" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 160px;">PEEP:
          <input name="evo_vm_peep" type="text"/>
</label>
<label style="min-width: 160px;">FiO2:
          <input name="evo_vm_fio2" type="text"/>
</label>
<label style="min-width: 160px;">Ppico:
          <input name="evo_vm_ppico" type="text"/>
</label>
<label style="min-width: 160px;">Pplat√¥:
          <input name="evo_vm_pplato" type="text"/>
</label>
<label style="min-width: 200px;">Drive Pressure:
          <input name="evo_vm_drive" type="text"/>
</label>
</div>
</div>
<div class="hidden" id="evo_resp_venturi">
<div class="row nowrap">
<label style="min-width: 220px;">FiO2 (Venturi):
          <input name="evo_venturi_fio2" type="text"/>
</label>
</div>
</div>
<div class="hidden" id="evo_resp_cn">
<div class="row nowrap">
<label style="min-width: 220px;">Litros (CN):
          <input name="evo_cn_litros" type="text"/>
</label>
</div>
</div>
<div class="hidden" id="evo_resp_mr">
<div class="row nowrap">
<label style="min-width: 220px;">Litros (MR):
          <input name="evo_mr_litros" type="text"/>
</label>
</div>
</div>
<div class="row nowrap" style="align-items: center;">
<label style="flex-direction: row; align-items: center; gap: 10px; min-width: 360px;">
<input id="evo_gaso_check" onclick="evoToggleBox('evo_gaso_fields', this.checked)" type="checkbox"/> √öltima gasometria relevante (preencher)
      </label>
</div>
<div class="hidden" id="evo_gaso_fields">
<div class="row nowrap">
<label style="min-width: 120px;">pH:
          <input name="evo_gas_ph" type="text"/>
</label>
<label style="min-width: 120px;">pO2:
          <input name="evo_gas_po2" type="text"/>
</label>
<label style="min-width: 120px;">pCO2:
          <input name="evo_gas_pco2" type="text"/>
</label>
<label style="min-width: 140px;">HCO3:
          <input name="evo_gas_hco3" type="text"/>
</label>
<label style="min-width: 120px;">BE:
          <input name="evo_gas_be" type="text"/>
</label>
<label style="min-width: 120px;">sO2:
          <input name="evo_gas_so2" type="text"/>
</label>
</div>
</div>
<div class="row">
<label style="width: 100%;">Ausculta pulmonar:
        <input name="evo_ausculta_pulm" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 220px;">POCUS pulmonar do dia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_pocus_pulm" onclick="evoToggleBox('evo_pocus_pulm_desc', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_pocus_pulm" onclick="evoToggleBox('evo_pocus_pulm_desc', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_pocus_pulm_desc" style="margin-top: 6px;">
<textarea name="evo_pocus_pulm_texto" placeholder="Descri√ß√£o do POCUS pulmonar" rows="2" style="width: 100%;"></textarea>
</div>
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<div style="min-width: 220px;">Rx t√≥rax do dia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_rx_torax" onclick="evoToggleBox('evo_rx_torax_desc', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_rx_torax" onclick="evoToggleBox('evo_rx_torax_desc', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_rx_torax_desc" style="margin-top: 6px;">
<textarea name="evo_rx_torax_texto" placeholder="Descri√ß√£o do Rx de t√≥rax" rows="2" style="width: 100%;"></textarea>
</div>
</div>
<!-- Hemodin√¢mica -->
<div class="section">
<h3>Hemodin√¢mica</h3>
<div class="row nowrap">
<label style="min-width: 260px;">Ritmo no monitor:
        <input name="evo_hemo_ritmo" type="text"/>
</label>
<label style="min-width: 180px;">PA:
        <input name="evo_hemo_pa" type="text"/>
</label>
<label style="min-width: 140px;">FC:
        <input name="evo_hemo_fc" type="text"/>
</label>
<label style="min-width: 160px;">SpO2:
        <input name="evo_hemo_spo2" type="text"/>
</label>
</div>
<div class="row" style="align-items: center; gap: 10px;">
<div style="min-width: 260px;">Vasoativos/Inotr√≥picos:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="evo_chk_dobutamina" onclick="evoToggleHemoDrug('dobutamina')" type="checkbox"/> Dobutamina
      </label>
<div class="hidden" id="evo_drug_dobutamina" style="min-width: 220px;">
<input name="evo_dobutamina_dose" placeholder="dose" type="text"/>
</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="evo_chk_milrinona" onclick="evoToggleHemoDrug('milrinona')" type="checkbox"/> Milrinona
      </label>
<div class="hidden" id="evo_drug_milrinona" style="min-width: 220px;">
<input name="evo_milrinona_dose" placeholder="dose" type="text"/>
</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="evo_chk_noradrenalina" onclick="evoToggleHemoDrug('noradrenalina')" type="checkbox"/> Noradrenalina
      </label>
<div class="hidden" id="evo_drug_noradrenalina" style="min-width: 220px;">
<input name="evo_noradrenalina_dose" placeholder="dose" type="text"/>
</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input id="evo_chk_vasopressina" onclick="evoToggleHemoDrug('vasopressina')" type="checkbox"/> Vasopressina
      </label>
<div class="hidden" id="evo_drug_vasopressina" style="min-width: 220px;">
<input name="evo_vasopressina_dose" placeholder="dose" type="text"/>
</div>
</div>
<div class="row nowrap" style="align-items: center;">
<label style="flex-direction: row; align-items: center; gap: 10px; min-width: 240px;">
<input id="evo_chk_perf" onclick="evoTogglePerfusao()" type="checkbox"/> Perfus√£o (preencher)
      </label>
</div>
<div class="hidden" id="evo_perf_fields">
<div class="row nowrap">
<label style="min-width: 170px;">Lactato:
          <input name="evo_perf_lactato" type="text"/>
</label>
<label style="min-width: 170px;">SvcO2:
          <input name="evo_perf_svco2" type="text"/>
</label>
<label style="min-width: 170px;">GapCO2:
          <input name="evo_perf_gapco2" type="text"/>
</label>
</div>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 140px;">ECG do dia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_ecg_dia" onclick="evoToggleBox('evo_ecg_txt_wrap', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_ecg_dia" onclick="evoToggleBox('evo_ecg_txt_wrap', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_ecg_txt_wrap" style="flex: 1;">
<textarea name="evo_ecg_txt" placeholder="Descrever ECG do dia" rows="2" style="width: 100%;"></textarea>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 220px;">POCUS card√≠aco do dia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_pocus_card" onclick="evoToggleBox('evo_pocus_card_desc', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_pocus_card" onclick="evoToggleBox('evo_pocus_card_desc', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_pocus_card_desc" style="margin-top: 6px;">
<textarea name="evo_pocus_card_texto" placeholder="Descri√ß√£o do POCUS card√≠aco" rows="2" style="width: 100%;"></textarea>
</div>
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<div style="min-width: 220px;">VExUS do dia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_vexus" onclick="evoToggleBox('evo_vexus_desc', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_vexus" onclick="evoToggleBox('evo_vexus_desc', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_vexus_desc" style="margin-top: 6px;">
<textarea name="evo_vexus_texto" placeholder="Descri√ß√£o do VExUS" rows="2" style="width: 100%;"></textarea>
</div>
<!-- Swan Ganz -->
</div>
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_swanganz_check" type="checkbox" onclick="toggleHemoExtra('swanganz')"/> Swan Ganz
</label>
</div>
<div class="hidden" id="evo_swanganz_wrap" style="margin-top: 6px;">
<div class="row nowrap" style="flex-wrap: wrap; gap: 10px;">
<label style="min-width: 120px;">IC:
      <input name="evo_swan_ic" type="text" placeholder="L/min/m¬≤"/>
</label>
<label style="min-width: 120px;">PAPm:
      <input name="evo_swan_papm" type="text" placeholder="mmHg"/>
</label>
<label style="min-width: 120px;">PVC:
      <input name="evo_swan_pvc" type="text" placeholder="mmHg"/>
</label>
<label style="min-width: 120px;">PAOP:
      <input name="evo_swan_paop" type="text" placeholder="mmHg"/>
</label>
<label style="min-width: 140px;">IRVS:
      <input name="evo_swan_irvs" type="text" placeholder="dyn¬∑s/cm‚Åµ/m¬≤"/>
</label>
</div>
</div>
<!-- Marcapasso -->
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_marcapasso_check" type="checkbox" onclick="toggleHemoExtra('marcapasso')"/> Marcapasso
</label>
</div>
<div class="hidden" id="evo_marcapasso_wrap" style="margin-top: 6px;">
<div class="row nowrap" style="flex-wrap: wrap; gap: 10px;">
<label style="min-width: 140px;">Undersense:
      <input name="evo_mp_undersense" type="text" placeholder="sim/n√£o"/>
</label>
<label style="min-width: 180px;">Falha de captura:
      <input name="evo_mp_falha_captura" type="text" placeholder="sim/n√£o"/>
</label>
<label style="min-width: 140px;">Output:
      <input name="evo_mp_output" type="text" placeholder="mA"/>
</label>
<label style="min-width: 140px;">Sense:
      <input name="evo_mp_sense" type="text" placeholder="mV"/>
</label>
</div>
</div>
<!-- esCCO -->
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_escco_check" type="checkbox" onclick="toggleHemoExtra('escco')"/> esCCO
</label>
</div>
<div class="hidden" id="evo_escco_wrap" style="margin-top: 6px;">
<div class="row nowrap" style="flex-wrap: wrap; gap: 10px;">
<label style="min-width: 140px;">esCCI:
      <input name="evo_escco_escci" type="text" placeholder="L/min/m¬≤"/>
</label>
<label style="min-width: 140px;">IRVS:
      <input name="evo_escco_irvs" type="text" placeholder="dyn¬∑s/cm‚Åµ/m¬≤"/>
</label>
</div>
</div>
</div>
<!-- Renal / Metab√≥lico -->
<div class="section">
<h3>Renal / Metab√≥lico</h3>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div style="min-width: 260px; font-weight: 700;">Per√≠odo (BH/Diurese):</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_renal_periodo" onclick="evoSetRenalPeriodo(12)" type="radio" value="12"/> 12h
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_renal_periodo" onclick="evoSetRenalPeriodo(24)" type="radio" value="24"/> 24h
      </label>
</div>
<div class="row nowrap">
<label style="min-width: 240px;"><span id="evo_bh_label">BH 24h</span> (mL):
        <input name="evo_bh_ml" type="text"/>
</label>
<label style="min-width: 240px;"><span id="evo_diurese_label">Diurese 24h</span> (mL):
        <input name="evo_diurese_ml" type="text"/>
</label>
<label style="min-width: 220px;">Ureia:
        <input name="evo_ureia" type="text"/>
</label>
<label style="min-width: 220px;">Creatinina:
        <input name="evo_creatinina" oninput="evoCalcularTFGeClCr()" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 260px;">TFG CKD-EPI (mL/min/1,73m¬≤):
            <input name="evo_tfg_ckd_epi" readonly="" type="text"/>
</label>
<label style="min-width: 260px;">ClCr Cockcroft-Gault (mL/min):
            <input name="evo_clcr_cg" readonly="" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 260px;">Terapia renal substitutiva:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_trs" onclick="evoToggleBox('evo_trs_tipo_wrap', false)" type="radio" value="nao"/> N√£o
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_trs" onclick="evoToggleBox('evo_trs_tipo_wrap', true)" type="radio" value="sim"/> Sim
      </label>
<div class="hidden" id="evo_trs_tipo_wrap" style="flex: 1;">
<input name="evo_trs_tipo" placeholder="tipo de TRS" type="text"/>
</div>
</div>
<div class="row nowrap">
<label style="min-width: 160px;">Na:
        <input name="evo_na" type="text"/>
</label>
<label style="min-width: 160px;">K:
        <input name="evo_k" type="text"/>
</label>
<label style="min-width: 160px;">Ca++:
        <input name="evo_ca" type="text"/>
</label>
<label style="min-width: 160px;">Mg++:
        <input name="evo_mg" type="text"/>
</label>
<label style="min-width: 160px;">F√≥sforo:
        <input name="evo_fosforo" type="text"/>
</label>
</div>
</div>
<!-- Infec√ß√£o -->
<div class="section">
<h3>Infec√ß√£o</h3>
<div class="row">
<label style="flex: 1; min-width: 100%;">Foco prov√°vel/confirmado:
        <input name="evo_inf_foco" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="flex: 1;">Antimicrobiano 1:
        <input name="evo_inf_atb1" type="text"/>
</label>
<label style="min-width: 150px;">D:
        <input name="evo_inf_dia_atb1" type="text"/>
</label>
<label style="min-width: 190px;">de:
        <input name="evo_inf_total_atb1" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="flex: 1;">Antimicrobiano 2:
        <input name="evo_inf_atb2" type="text"/>
</label>
<label style="min-width: 150px;">D:
        <input name="evo_inf_dia_atb2" type="text"/>
</label>
<label style="min-width: 190px;">de:
        <input name="evo_inf_total_atb2" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="flex: 1;">Antimicrobiano 3:
        <input name="evo_inf_atb3" type="text"/>
</label>
<label style="min-width: 150px;">D:
        <input name="evo_inf_dia_atb3" type="text"/>
</label>
<label style="min-width: 190px;">de:
        <input name="evo_inf_total_atb3" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 120px;">Culturas:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_culturas" onclick="evoToggleCulturas('pendentes')" type="radio" value="pendentes"/> Pendentes
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_culturas" onclick="evoToggleCulturas('negativas')" type="radio" value="negativas"/> Negativas
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_culturas" onclick="evoToggleCulturas('positivas')" type="radio" value="positivas"/> Positivas
</label>
<div class="hidden" id="evo_cult_pend_wrap" style="flex: 1;"><input name="evo_cult_pend_data" placeholder="data/hora da coleta (pendentes)" style="width: 100%;" type="text"/></div>
<div class="hidden" id="evo_cult_pos_wrap" style="flex: 1;">
<input name="evo_cult_pos_txt" placeholder="descrever culturas positivas" type="text"/>
</div>
</div>
<div class="row nowrap">
<label style="min-width: 220px;">Leuc√≥citos:
        <input name="evo_leuco" type="text"/>
</label>
<label style="min-width: 220px;">PCR:
        <input name="evo_pcr" type="text"/>
</label>
<label style="min-width: 240px;">Procalcitonina:
        <input name="evo_pct" type="text"/>
</label>
<label style="min-width: 220px;">Data:
        <input name="evo_pct_data" type="text"/>
</label>
</div>
</div>
<!-- Neuro / Seda√ß√£o -->
<div class="section">
<h3>Neuro / Dor / Seda√ß√£o / Delirium</h3>
<div class="row nowrap" style="align-items: flex-end;">
<div style="min-width: 210px; padding-bottom: 8px;">Escala de Glasgow:</div>
<label style="min-width: 90px;">AO
        <input id="evo_glasgow_ao" min="0" name="evo_glasgow_ao" oninput="evoCalcGlasgow()" type="number"/>
</label>
<label style="min-width: 90px;">RV
        <input id="evo_glasgow_rv" min="0" name="evo_glasgow_rv" oninput="evoCalcGlasgow()" type="number"/>
</label>
<label style="min-width: 90px;">RM
        <input id="evo_glasgow_rm" min="0" name="evo_glasgow_rm" oninput="evoCalcGlasgow()" type="number"/>
</label>
<label style="min-width: 140px;">Total
        <input id="evo_glasgow_total" name="evo_glasgow_total" readonly="" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 200px;">RASS atual:
        <input name="evo_rass_atual" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 120px;">Delirium:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_delirium" onclick="evoToggleBox('evo_delirium_tipos', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_delirium" onclick="evoToggleBox('evo_delirium_tipos', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_delirium_tipos" style="margin-top: 6px; display: flex; flex-wrap: wrap; gap: 16px;">
<label style="margin-top: 6px; display: flex; flex-wrap: wrap; gap: 16px;">
<input id="evo_del_hiper" name="evo_del_hiper" type="checkbox"/> Hiperativo
        </label>
<label style="margin-top: 6px; display: flex; flex-wrap: wrap; gap: 16px;">
<input id="evo_del_hipo" name="evo_del_hipo" type="checkbox"/> Hipoativo
        </label>
<label style="margin-top: 6px; display: flex; flex-wrap: wrap; gap: 16px;">
<input id="evo_del_misto" name="evo_del_misto" type="checkbox"/> Misto
        </label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 260px;">Analgesia / seda√ß√£o em uso:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_analg_sed" onclick="evoToggleBox('evo_analgesia_lista', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_analg_sed" onclick="evoToggleBox('evo_analgesia_lista', false)" type="radio" value="nao"/> N√£o
      </label>
</div>
<div class="hidden" id="evo_analgesia_lista" style="margin-top: 8px;">
<div class="row" style="margin: 0; gap: 14px; flex-wrap: wrap;">
<div class="med-item">
<input id="evo_med_dipirona" name="evo_med_dipirona" onclick="toggleDose('evo_med_dipirona','dose_evo_med_dipirona')" type="checkbox"/>
<span>Dipirona</span>
<input class="dose-input hidden" id="dose_evo_med_dipirona" name="dose_evo_med_dipirona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_tramadol" name="evo_med_tramadol" onclick="toggleDose('evo_med_tramadol','dose_evo_med_tramadol')" type="checkbox"/>
<span>Tramadol</span>
<input class="dose-input hidden" id="dose_evo_med_tramadol" name="dose_evo_med_tramadol" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_tylex" name="evo_med_tylex" onclick="toggleDose('evo_med_tylex','dose_evo_med_tylex')" type="checkbox"/>
<span>Tylex</span>
<input class="dose-input hidden" id="dose_evo_med_tylex" name="dose_evo_med_tylex" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_metadona" name="evo_med_metadona" onclick="toggleDose('evo_med_metadona','dose_evo_med_metadona')" type="checkbox"/>
<span>Metadona</span>
<input class="dose-input hidden" id="dose_evo_med_metadona" name="dose_evo_med_metadona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_diazepam" name="evo_med_diazepam" onclick="toggleDose('evo_med_diazepam','dose_evo_med_diazepam')" type="checkbox"/>
<span>Diazepam</span>
<input class="dose-input hidden" id="dose_evo_med_diazepam" name="dose_evo_med_diazepam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_clonazepam" name="evo_med_clonazepam" onclick="toggleDose('evo_med_clonazepam','dose_evo_med_clonazepam')" type="checkbox"/>
<span>Clonazepam</span>
<input class="dose-input hidden" id="dose_evo_med_clonazepam" name="dose_evo_med_clonazepam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_quetiapina" name="evo_med_quetiapina" onclick="toggleDose('evo_med_quetiapina','dose_evo_med_quetiapina')" type="checkbox"/>
<span>Quetiapina</span>
<input class="dose-input hidden" id="dose_evo_med_quetiapina" name="dose_evo_med_quetiapina" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_risperidona" name="evo_med_risperidona" onclick="toggleDose('evo_med_risperidona','dose_evo_med_risperidona')" type="checkbox"/>
<span>Risperidona</span>
<input class="dose-input hidden" id="dose_evo_med_risperidona" name="dose_evo_med_risperidona" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_ketamina" name="evo_med_ketamina" onclick="toggleDose('evo_med_ketamina','dose_evo_med_ketamina')" type="checkbox"/>
<span>Ketamina</span>
<input class="dose-input hidden" id="dose_evo_med_ketamina" name="dose_evo_med_ketamina" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_midazolam" name="evo_med_midazolam" onclick="toggleDose('evo_med_midazolam','dose_evo_med_midazolam')" type="checkbox"/>
<span>Midazolam</span>
<input class="dose-input hidden" id="dose_evo_med_midazolam" name="dose_evo_med_midazolam" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_fentanil" name="evo_med_fentanil" onclick="toggleDose('evo_med_fentanil','dose_evo_med_fentanil')" type="checkbox"/>
<span>Fentanil</span>
<input class="dose-input hidden" id="dose_evo_med_fentanil" name="dose_evo_med_fentanil" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_remifentanil" name="evo_med_remifentanil" onclick="toggleDose('evo_med_remifentanil','dose_evo_med_remifentanil')" type="checkbox"/>
<span>Remifentanil</span>
<input class="dose-input hidden" id="dose_evo_med_remifentanil" name="dose_evo_med_remifentanil" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_precedex" name="evo_med_precedex" onclick="toggleDose('evo_med_precedex','dose_evo_med_precedex')" type="checkbox"/>
<span>Precedex</span>
<input class="dose-input hidden" id="dose_evo_med_precedex" name="dose_evo_med_precedex" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_propofol" name="evo_med_propofol" onclick="toggleDose('evo_med_propofol','dose_evo_med_propofol')" type="checkbox"/>
<span>Propofol</span>
<input class="dose-input hidden" id="dose_evo_med_propofol" name="dose_evo_med_propofol" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_rocuronio" name="evo_med_rocuronio" onclick="toggleDose('evo_med_rocuronio','dose_evo_med_rocuronio')" type="checkbox"/>
<span>Rocur√¥nio</span>
<input class="dose-input hidden" id="dose_evo_med_rocuronio" name="dose_evo_med_rocuronio" placeholder="dose" type="text"/>
</div>
<div class="med-item">
<input id="evo_med_cisatracurio" name="evo_med_cisatracurio" onclick="toggleDose('evo_med_cisatracurio','dose_evo_med_cisatracurio')" type="checkbox"/>
<span>Cisatrac√∫rio</span>
<input class="dose-input hidden" id="dose_evo_med_cisatracurio" name="dose_evo_med_cisatracurio" placeholder="dose" type="text"/>
</div>
</div>
</div>
<!-- Exame Neurol√≥gico -->
<div class="row" style="margin-top: 15px;">
<label style="flex: 1; min-width: 100%;">Exame Neurol√≥gico:
      <textarea name="evo_exame_neuro" rows="3" placeholder="Pupilas, for√ßa muscular, reflexos, sensibilidade..."></textarea>
</label>
</div>
<!-- Doppler cerebral -->
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_doppler_check" type="checkbox" onclick="toggleNeuroExtra('doppler')"/> Doppler cerebral
</label>
</div>
<div class="hidden" id="evo_doppler_wrap" style="margin-top: 6px;">
<label style="flex: 1; min-width: 100%;">
      <textarea name="evo_doppler_desc" rows="2" placeholder="Descreva os achados do Doppler cerebral..."></textarea>
</label>
</div>
<!-- Brain4care -->
<div class="row nowrap" style="align-items: center; margin-top: 10px;">
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_brain4care_check" type="checkbox" onclick="toggleNeuroExtra('brain4care')"/> Brain4care
</label>
</div>
<div class="hidden" id="evo_brain4care_wrap" style="margin-top: 6px;">
<label style="flex: 1; min-width: 100%;">
      <textarea name="evo_brain4care_desc" rows="2" placeholder="Descreva os dados do Brain4care..."></textarea>
</label>
</div>
</div>
<!-- Hematol√≥gico / Trombose -->
<div class="section">
<h3>Hematol√≥gico / Trombose</h3>
<div class="row nowrap">
<label style="min-width: 220px;">Hb:
        <input name="evo_hb" type="text"/>
</label>
<label style="min-width: 220px;">Plaquetas:
        <input name="evo_plaquetas" type="text"/>
</label>
<label style="min-width: 220px;">INR:
        <input name="evo_inr" type="text"/>
</label>
<label style="min-width: 220px;">PTT:
        <input name="evo_ptt" type="text"/>
</label>
</div>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 140px;">Profilaxia TEV:</div>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_tev" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px; min-width: unset;">
<input name="evo_tev" type="radio" value="nao"/> N√£o
      </label>
<div class="hidden" id="evo_tev_just_wrap" style="flex: 1;">
<input name="evo_tev_just" placeholder="justificativa se n√£o" type="text"/>
</div>
</div>
<!-- Transfus√µes -->
<div class="row nowrap" style="align-items: flex-start; margin-top: 10px;">
<div style="min-width: 100px; margin-top: 6px;">Transfus√µes:</div>
<div style="display: flex; flex-wrap: wrap; gap: 15px;">
<label style="flex-direction: row; align-items: center; gap: 5px; min-width: unset;">
<input name="evo_transf_ch" type="checkbox" onclick="toggleTransfusao('ch')"/> CH
<input id="evo_transf_ch_qtd" name="evo_transf_ch_qtd" type="text" placeholder="qtd" style="width: 60px; display: none;"/>
</label>
<label style="flex-direction: row; align-items: center; gap: 5px; min-width: unset;">
<input name="evo_transf_plaq" type="checkbox" onclick="toggleTransfusao('plaq')"/> Plaquetas
<input id="evo_transf_plaq_qtd" name="evo_transf_plaq_qtd" type="text" placeholder="qtd" style="width: 60px; display: none;"/>
</label>
<label style="flex-direction: row; align-items: center; gap: 5px; min-width: unset;">
<input name="evo_transf_plasma" type="checkbox" onclick="toggleTransfusao('plasma')"/> Plasma
<input id="evo_transf_plasma_qtd" name="evo_transf_plasma_qtd" type="text" placeholder="qtd" style="width: 60px; display: none;"/>
</label>
<label style="flex-direction: row; align-items: center; gap: 5px; min-width: unset;">
<input name="evo_transf_crio" type="checkbox" onclick="toggleTransfusao('crio')"/> Crioprecipitado
<input id="evo_transf_crio_qtd" name="evo_transf_crio_qtd" type="text" placeholder="qtd" style="width: 60px; display: none;"/>
</label>
</div>
</div>
</div>
<!-- Invasivos / Dispositivos -->
<div class="section">
<h3>Invasivos / Dispositivos</h3>
<div class="row nowrap">
<label style="min-width: 260px;">CVC (local):
        <input name="evo_cvc_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_cvc_dia" type="text"/>
</label>
<label style="min-width: 260px;">Cateter arterial (local):
        <input name="evo_art_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_art_dia" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 260px;">Cateter de HD (local):
        <input name="evo_hd_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_hd_dia" type="text"/>
</label>
<label style="min-width: 180px;">SVD (dia):
        <input name="evo_svd_dia" type="text"/>
</label>
<label style="min-width: 180px;">TOT/TQT (dia):
        <input name="evo_tot_tqt_dia" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 260px;">Swan-Ganz (local):
        <input name="evo_swanganz_local" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_swanganz_dia" placeholder="dd/mm ou D+?" type="text"/>
</label>
<label style="min-width: 220px;">BIA:
        <input name="evo_bia" placeholder="sim/n√£o ou detalhes" type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_bia_dia" placeholder="dd/mm ou D+?" type="text"/>
</label>
</div>
<div class="row nowrap">
<label style="min-width: 320px;">Marcapasso transvenoso:
        <input name="evo_mp_transv" placeholder="VVI/DDD etc." type="text"/>
</label>
<label style="min-width: 140px;">Dia:
        <input name="evo_mp_transv_dia" placeholder="dd/mm ou D+?" type="text"/>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Drenos/outros:
        <input name="evo_drenos_outros" type="text"/>
</label>
</div>
<div class="row">
<label style="flex: 1; min-width: 100%;">Retirados recentemente (data/hora | motivo):
        <textarea name="evo_retirados" rows="3"></textarea>
</label>
</div>
</div>
<!-- Nutri√ß√£o -->
<div class="section" id="evo_nutricao_gi">
<h3>Nutri√ß√£o / Gastrointestinal</h3>
<div class="row grid-2">
<label>VET pleno (kcal/dia):
      <input name="evo_vet_kcal" placeholder="kcal/dia" step="1" type="number"/>
</label>
<label>Prote√≠na (g/dia):
      <input name="evo_vet_prot" placeholder="g/dia" step="1" type="number"/>
</label>
</div>
<div class="row grid-2">
<label>Dieta enteral:
      <select id="evo_dieta_select" name="evo_dieta_select"></select>
</label>
<div class="hidden" id="evo_dieta_custom_wrap">
<div class="row grid-2" style="margin-top: 8px;">
<label>kcal/mL:
          <input name="evo_dieta_kcal_ml" placeholder="ex: 1.0" step="0.001" type="number"/>
</label>
<label>prot g/mL:
          <input name="evo_dieta_prot_ml" placeholder="ex: 0.04" step="0.001" type="number"/>
</label>
</div>
</div>
</div>
<div class="row grid-2">
<label>Infus√£o (mL/h):
      <input name="evo_dieta_mlh" placeholder="mL/h" step="0.1" type="number"/>
</label>
<label>Volume em 24h (mL) (auto):
      <input name="evo_dieta_ml20" readonly="" step="1" type="number"/>
</label>
</div>
<div class="row grid-2">
<label>Kcal 24h (auto):
      <input name="evo_kcal_admin" readonly="" step="1" type="number"/>
</label>
<label>Prote√≠na 24h (auto, com whey):
      <input name="evo_prot_admin" readonly="" step="1" type="number"/>
</label>
</div>
<div class="row grid-2">
<label>Whey (g de prote√≠na):
      <input name="evo_whey_prot_g" placeholder="0" step="1" type="number"/>
</label>
<div></div>
</div>
<div class="row grid-2">
<label>% VET pleno atingido (24h) ‚Äì Calorias (auto):
      <input name="evo_pct_kcal" readonly="" step="0.1" type="number"/>
</label>
<label>% VET pleno atingido (24h) ‚Äì Prote√≠na (auto):
      <input name="evo_pct_prot" readonly="" step="0.1" type="number"/>
</label>
</div>
<hr style="border:0;border-top:1px solid #e5e7eb;margin:12px 0;"/>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div style="min-width: 180px;">V√¥mitos:</div>
<label><input name="evo_vomitos" type="radio" value="sim"/> Sim</label>
<label><input name="evo_vomitos" type="radio" value="nao"/> N√£o</label>
</div>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div style="min-width: 180px;">Distens√£o abdominal:</div>
<label><input name="evo_distensao" type="radio" value="sim"/> Sim</label>
<label><input name="evo_distensao" type="radio" value="nao"/> N√£o</label>
</div>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div style="min-width: 180px;">Estase g√°strica:</div>
<label><input name="evo_estase" onclick="evoToggleBox('evo_estase_wrap', true)" type="radio" value="sim"/> Sim</label>
<label><input name="evo_estase" onclick="evoToggleBox('evo_estase_wrap', false)" type="radio" value="nao"/> N√£o</label>
<div class="hidden" id="evo_estase_wrap" style="flex:1; min-width:260px;">
<input name="evo_estase_residuo" placeholder="Quantidade de res√≠duo g√°strico (mL)" style="width:100%;" type="text"/>
</div>
</div>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div>Hipoglicemias em 12/24h:</div>
<label><input name="evo_hipo" onclick="evoToggleBox('evo_hipo_wrap', true)" type="radio" value="sim"/> Sim</label>
<label><input name="evo_hipo" onclick="evoToggleBox('evo_hipo_wrap', false)" type="radio" value="nao"/> N√£o</label>
<div class="hidden" id="evo_hipo_wrap" style="flex:1; min-width:260px;">
<input name="evo_hipo_glicose" placeholder="Quantidade de glicose feita" style="width:100%;" type="text"/>
</div>
</div>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div>Hiperglicemias em 12/24h:</div>
<label><input name="evo_hiper" onclick="evoToggleBox('evo_hiper_wrap', true)" type="radio" value="sim"/> Sim</label>
<label><input name="evo_hiper" onclick="evoToggleBox('evo_hiper_wrap', false)" type="radio" value="nao"/> N√£o</label>
<div class="hidden" id="evo_hiper_wrap" style="flex:1; min-width:260px;">
<input name="evo_hiper_insulina" placeholder="Quantidade de insulina regular feita" style="width:100%;" type="text"/>
</div>
</div>
<div class="row nowrap" style="align-items:center; gap:14px; flex-wrap:wrap;">
<div style="min-width: 220px;">Profilaxia √∫lcera de estresse:</div>
<label><input name="evo_profilaxia_ulcera" type="radio" value="sim"/> Sim</label>
<label><input name="evo_profilaxia_ulcera" type="radio" value="nao"/> N√£o</label>
</div>
</div>
<!-- Outros exames relevantes -->
<div class="section">
<h3>Outros exames relevantes</h3>
<div class="row">
<textarea name="evo_outros_labs" rows="4" style="width: 100%;"></textarea>
</div>
</div>
<!-- Interconsultas -->
<div class="section">
<h3>Interconsultas</h3>
<div class="row nowrap" style="align-items: center;">
<div style="min-width: 120px;">Nefrologia:</div>
<label style="flex-direction: row; align-items: center; gap: 8px;">
<input name="evo_nefro" onclick="evoToggleBox('evo_nefro_txt_wrap', true)" type="radio" value="sim"/> Sim
      </label>
<label style="flex-direction: row; align-items: center; gap: 8px;">
<input name="evo_nefro" onclick="evoToggleBox('evo_nefro_txt_wrap', false)" type="radio" value="nao"/> N√£o
      </label>
<div class="hidden" id="evo_nefro_txt_wrap" style="flex: 1;">
<textarea name="evo_nefro_txt" placeholder="Descrever" rows="3" style="width: 10
